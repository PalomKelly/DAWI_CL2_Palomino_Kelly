<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Ciberfarma</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

</head>

<body>
	<div class="container">
		<h1>Listado de Productos</h1>
		<form action="/reporte/listar" method="post">
		  <div class="form-row">
		    <div class="form-group col-md-4">
		      <label for="inputCat">Categoria</label>
		      <select id="inputCat" 
		      	class="form-control" name="categoria">
		        <option value="-1">Seleccione...</option>
		        <option th:each="c : ${lstCategorias}"
		        	 	th:value="${c.idcategoria}" 
		        	 	th:text="${c.descripcion}"></option>
		      </select>
		    </div>
		  </div>
		  <br>
		  <button type="submit" class="btn btn-primary">Procesar</button>
		  <a href="/reporte" class="btn btn-primary">Reporte</a>
		  <a href="/grafico" class="btn btn-secondary">Grafico</a>
		</form>
		<br>	
	</div>
	
	
	<div class="container">
	
		<!--	Listado		-->
		<table class="table table-hover">
			<thead>
				<tr>
					<th scope="col">Código</th>
					<th scope="col">Nombre</th>
					<th scope="col">Stock</th>
					<th scope="col">Precio</th>
					<th scope="col">Categoria</th>
					<th scope="col"></th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="p : ${lstProductos}">
					<th scope="row" th:text="${p.idprod}"></th>
					<td th:text="${p.descripcion}"></td>
					<td th:text="${p.stock}"></td>
					<td th:text="${p.precio}"></td>
					<!--<td th:text="${p.idcategoria}"></td>-->
					<td th:text="${p.categoria.descripcion}"></td>
					<td>
					<form action="/producto/editar" method="post">
						<input type="hidden" name="idprod" th:value="${p.idprod}">
						<button type="submit" class="btn btn-primary">Editar</button>
					</form>
					
					</td>
					<td></td>
				</tr>
			</tbody>
		</table>
	</div>
	
	
	
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
	crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
	integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
	crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
	integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
	crossorigin="anonymous"></script>

</html>